Вариант 4

graph LR

A((A)) --> B((B))
B --> A
B --> B
B --> C((C))
C --> A
A --> C


Допустимые маршруты:

A --> B
B --> A
B --> B
B --> C
C --> A
A --> C
Найти формулу расчета количества маршрутов, начинающихся в вершине C и заканчивающихся в вершине B.


 # Решение задачи нахождения количества маршрутов

## Условие задачи

Дан граф с тремя вершинами \( A \), \( B \) и \( C \) и допустимые маршруты:

- \( A \rightarrow A \)
- \( A \rightarrow B \)
- \( B \rightarrow A \)
- \( B \rightarrow B \)
- \( C \rightarrow A \)
- \( C \rightarrow C \)
- \( C \rightarrow B \)

Необходимо найти количество маршрутов длины \( n \), начинающихся в вершине \( C \) и заканчивающихся в вершине \( B \).

## Система рекуррентных соотношений

Обозначим \( a_n \), \( b_n \) и \( c_n \) количеством маршрутов длины \( n \), заканчивающихся в вершинах \( A \), \( B \) и \( C \) соответственно.

Составим систему рекуррентных соотношений:
\[
\begin{cases}
a_n = a_{n-1} + b_{n-1} + c_{n-1} \\
b_n = a_{n-1} + b_{n-1} + c_{n-1} \\
c_n = c_{n-1}
\end{cases}
\]

## Сведение системы к одному рекуррентному соотношению

Из третьего уравнения видно, что \( c_n = c_{n-1} \). Это означает, что \( c_n \) остается постоянным и равным начальному значению \( c_0 = 1 \).

Теперь подставим \( c_n = 1 \) в первые два уравнения:
\[
\begin{cases}
a_n = a_{n-1} + b_{n-1} + 1 \\
b_n = a_{n-1} + b_{n-1} + 1
\end{cases}
\]

Заметим, что \( a_n \) и \( b_n \) определяются одинаково. Это означает, что \( a_n = b_n \) для всех \( n \).

Теперь запишем одно рекуррентное соотношение для \( b_n \):
\[
b_n = b_{n-1} + b_{n-1} + 1 = 2b_{n-1} + 1
\]

## Решение характеристического уравнения

Для решения рекуррентного соотношения \( b_n = 2b_{n-1} + 1 \) найдем его общее и частное решение.

### Общее решение

Пусть \( b_n = C \cdot 2^n \). Подставим это предположение в рекуррентное соотношение:
\[
C \cdot 2^n = 2(C \cdot 2^{n-1})
\]
\[
C \cdot 2^n = C \cdot 2^n
\]

Это подтверждает, что \( b_n^{(g)} = C \cdot 2^n \) является общим решением.

### Частное решение

Пусть \( b_n^{(p)} = A \) (константа). Подставим это предположение в рекуррентное соотношение:
\[
A = 2A + 1
\]
\[
A - 2A = 1
\]
\[
-A = 1
\]
\[
A = -1
\]

Таким образом, частное решение \( b_n^{(p)} = -1 \).

### Общее решение

Общее решение для \( b_n \) будет:
\[
b_n = C \cdot 2^n - 1
\]

## Нахождение константы \( C \)

Используем начальное условие \( b_1 = 1 \):
\[
1 = C \cdot 2^1 - 1
\]
\[
1 = 2C - 1
\]
\[
2 = 2C
\]
\[
C = 1
\]

Таким образом, окончательное решение для \( b_n \) будет:
\[
b_n = 2^n - 1
\]

## Проверка

Проверим решение для \( n = 1, 2, 3 \):

- \( n = 1 \): \( b_1 = 2^1 - 1 = 1 \)
- \( n = 2 \): \( b_2 = 2^2 - 1 = 3 \)
- \( n = 3 \): \( b_3 = 2^3 - 1 = 7 \)

Решение верно.