# Задание №13. Команда Second.
### Постановка задачи:
Задача о рюкзаке (англ. Knapsack problem) — дано N предметов, n<sub>i</sub> предмет имеет массу w<sub>i</sub> > 0 и стоимость p<sub>i</sub> > 0. Необходимо выбрать из этих предметов такой набор, чтобы суммарная масса не превосходила заданной величины W (вместимость рюкзака), а суммарная стоимость была максимальна. 

### Вариант 9:

Решить задачу о рюкзаке с применением генетического алгоритма, с учетом следующих требований:
   - Придумать условия задачи с количеством предметов не менее 6.
   - Численность популяции не менее 4 особей, в скрещивании участвует половина популяции. 
   - Для скрещивания выбираются особи по принципу рулетки, скрещивание – равномерное.
   - До выполнения алгоритма сформулировать стратегию применения оператора мутации.
   - Сформировать не менее 3 поколений, не считая первоначального.

## Условия задачи

Есть рюкзак с вместимостью в 15 кг и 6 предметов. У каждого предмета свой вес и стоимость. Таблица:

| Предметы  | 1 | 2 | 3 | 4 | 5 | 6 |
|:----------|:-:|:-:|:-:|:-:|:-:|:-:|
| Вес       | 3 | 4 | 6 | 8 | 5 | 2 |
| Стоимость | 12| 18| 30| 40| 25| 8 |

Если набор особей не изменялся два поколения подряд, то происходит мутация.

Если вес особи > вместимости рюкзака - убирается из поколения. Копии уже имеющихся особей так же убираются.

Принцип рулетки:
 - Каждая особь имеет шанс стать родительской, пропорциональный значению фитнес-функции.

Тип скрещивания - равномерный.

## Решение

(1) - выбранный предметы, а (0) - не выбранный. Пример: (100000) - выбран только 1 предмет.

## Поколение 1 (4 случайных особи)

1. X1 (100101)
2. X2 (110011)
3. X3 (001011)
4. X4 (101000)

### Фитнес-функции

1. f(x1) = 60
2. f(x2) = 63
3. f(x3) = 63
4. f(x4) = 42

### Отбор родительских особей принципом рулетки

1. f(x1) = 26%
2. f(x2) = 28%
3. f(x3) = 28%
4. f(x4) = 18%

Родительские особи = x1 и x3.

### Скрещивание

- Вспомогательная строка (101010)
- X1 (100101)
- X3 (001011)
- X5 (100001)
- X6 (001111)

Фитнес-функции потомков:
- f(x5) = 20 
- Особь Х6 убирается (вес предметов > вместимости рюкзака) 

## Поколение 2 (4 наиболее приспособленные особи из всех поколений - копия первого поколения)

1. X1 (100101)
2. X2 (110011)
3. X3 (001011)
4. X4 (101000)

### Фитнес-функции

1. f(x1) = 60
2. f(x2) = 63
3. f(x3) = 63
4. f(x4) = 42

### Отбор родительских особей принципом рулетки

1. f(x1) = 26%
2. f(x2) = 28%
3. f(x3) = 28%
4. f(x4) = 18%

Родительские особи = x2 и x3.

### Скрещивание

- Вспомогательная строка (010101)
- X2 (110011)
- X3 (001011)
- X7 (011011)
- X8 (100011)

Фитнес-функции потомков:
- Особь Х7 убирается (вес предметов > вместимости рюкзака)
- f(x8) = 45 

## Поколение 3 (4 наиболее приспособленные особи из всех поколений)

1. X1 (100101)
2. X2 (110011)
3. X3 (001011)
4. X8 (100011)

### Фитнес-функции

1. f(x1) = 60
2. f(x2) = 63
3. f(x3) = 63
4. f(x8) = 45

### Отбор родительских особей принципом рулетки

1. f(x1) = 26%
2. f(x2) = 27%
3. f(x3) = 27%
4. f(x8) = 20%

Родительские особи = x2 и x8.

### Скрещивание

- Вспомогательная строка (011110)
- X2  (110011)
- X8  (100011)
- X9  (110011)
- X10 (100011)

Фитнес-функции потомков:
- Особь Х9 убирается (копия X2)
- Особь Х10 убирается (копия X8)

## Поколение 4 (4 наиболее приспособленные особи из всех поколений)

1. X1 (100101)
2. X2 (110011)
3. X3 (001011)
4. X8 (100011)

Конец алгоритма, так как было получено третье поколение (начальное не учитывалось).

Особь с наибольшей фитнес-функцией - X2.

## Ответ

Максимальная стоимость предметов: 63.

Набор предметов, обеспечивающий максимальную стоимость: (1, 2, 5, 6).

Общий вес предметов: 14.

Свободное место в рюкзаке: 1.