# Задача о коммивояжере (Генетический алгоритм)
### Вариант 7:
Матрица расстояний:

|       | **1** | **2** | **3** | **4** | **5** |
|-------|:-----:|:-----:|:-----:|:-----:|:-----:|
| **1** | **∞** |   9   |   5   |   9   |  12   |
| **2** |   8   | **∞** |   5   |  14   |  12   |
| **3** |  15   |   8   | **∞** |   8   |  11   |
| **4** |  12   |   6   |   5   | **∞** |  11   |
| **5** |  14   |  15   |  13   |  14   | **∞** |

Шаг 1.
Генерируем 2 случайные особи. Пусть это будут особи
$x_1$ = 13425
$x_2$ = 15234

Фитнес-функия особей:
$f_1$ = 5+8+6+12+14 = 45
$f_2$ = 12+15+5+8+12 = 52

Шаг 2.
Кодируем особи с помощью альтернативной кодировки.
Для этого составим таблицу, в которой 1-ая строка - посимвольный код особи в обычной кодировке. 2-ая строка - все символы этого кода в порядке возрастания.

|код| $1$ | $3$ | $4$ | $2$ | $5$ |
|---|:-:|:-:|:-:|:-:|:-:|
| ➚ | 1 | 2 | 3 | 4 | 5 |

Теперь ищем значение первого символа в 1-ой строке во 2-ой, и пишем номер этой ячейки.

|код| 1 | $3$ | $4$ | $2$ | $5$ |
|---|:-:|:-:|:-:|:-:|:-:|
| ➚ | **1** | 2 | 3 | 4 | 5 |

Альтернативный код $x_1$ = 1
Убираем использованные ячейки и продолжаем кодирование пока не закодируем каждый символ:

|код| 3 | $4$ | $2$ | $5$ |
|---|:-:|:-:|:-:|:-:|
| ➚ | 2 | **3** | 4 | 5 |

Альтернативный код $x_1$ = 12

|код| 4 | $2$ | $5$ |
|---|:-:|:-:|:-:|
| ➚ | 2 | **4** | 5 |

Альтернативный код $x_1$ = 122

|код| 2 | $5$ |
|---|:-:|:-:|
| ➚ | **2** | 5 |

Альтернативный код $x_1$ = 1221

|код| 5 |
|---|:-:|
| ➚ | **5** |

Альтернативный код $x_1$ = 12211

Аналогично кодируем вторую особь.
|код| 1 | $5$ | $2$ | $3$ | $4$ |
|---|:-:|:-:|:-:|:-:|:-:|
| ➚ | **1** | 2 | 3 | 4 | 5 |

|код| 5 | $2$ | $3$ | $4$ |
|---|:-:|:-:|:-:|:-:|
| ➚ | 2 | 3 | 4 | **5** |

|код| 2 | $3$ | $4$ |
|---|:-:|:-:|:-:|
| ➚ | **2** | 3 | 4 |

|код| 3 | $4$ |
|---|:-:|:-:|
| ➚ | **3** | 4 |

|код| 4 |
|---|:-:|
| ➚ | **4** |

Альтернативный код $x_2$ = 14111

Шаг 3.
Проводим двухточечное скрещивание.

Для этого ставим 2 точки в каждой особи. Эти точки делят код особи на 3 части. Потомки сохраняют 1 и 3 часть от одного из родителей, и 3 часть от другого родителя.
$x_1$ = **12**.**21**.**1**
$x_2$ = *14*.*11*.*1*
-----------------.
$x_3$ = **12**.*11*.**1**
$x_4$ = *14*.**21**.*1*

Шаг 4.
Проведем мутацию 3 потомка.
Мутация односимвольная. Мы можем заменить любой символ на любой символ множества {1; n-i}, где n - длина кода, i - номер символа.
Пусть мы заменим 3 символ на "3"
$x_3$ = 12**3**11

Шаг 5.
Декодируем потомков.
Для этого воспользуемся той же таблицей, что и для кодировки, только в 1 строке будет альтернативная кодировка
|код| $1$ | $2$ | $3$ | $1$ | $1$ |
|---|:-:|:-:|:-:|:-:|:-:|
| ➚ | 1 | 2 | 3 | 4 | 5 |

Но в этот раз ищем номер ячейки во второй строке и пишем значение этой ячейки:

|код| 1 | $2$ | $3$ | $1$ | $1$ |
|---|:-:|:-:|:-:|:-:|:-:|
| ➚ | **1** | 2 | 3 | 4 | 5 |

Прямой код $x_3$ = 1

|код| 2 | $3$ | $1$ | $1$ |
|---|:-:|:-:|:-:|:-:|
| ➚ | 2 | **3** | 4 | 5 |

Прямой код $x_3$ = 13

|код| 3 | $1$ | $1$ |
|---|:-:|:-:|:-:|
| ➚ | 2 | 4 | **5** |

Прямой код $x_3$ = 135

|код| 1 | $1$ |
|---|:-:|:-:|
| ➚ | **2** | 4 |

Прямой код $x_3$ = 1352

|код| 1 |
|---|:-:|
| ➚ | **4** |

Прямой код $x_3$ = 13524

Аналогично декодируем $x_4$:

|код| 1 | $4$ | $2$ | $1$ | $1$ |
|---|:-:|:-:|:-:|:-:|:-:|
| ➚ | **1** | 2 | 3 | 4 | 5 |

Прямой код $x_4$ = 1

|код| 4 | $2$ | $1$ | $1$ |
|---|:-:|:-:|:-:|:-:|
| ➚ | 2 | 3 | 4 | **5** |

Прямой код $x_4$ = 15

|код| 2 | $1$ | $1$ |
|---|:-:|:-:|:-:|
| ➚ | 2 | **3** | 4 |

Прямой код $x_4$ = 153

|код| 1 | $1$ |
|---|:-:|:-:|
| ➚ | **2** | 4 |

Прямой код $x_4$ = 1532

|код| 1 |
|---|:-:|
| ➚ | **4** |

Прямой код $x_4$ = 15324.

Прямой код $x_3$ = 13524
Прямой код $x_4$ = 15324

Шаг 6.
Считаем фитнес-функцию потомков

$f_3$ = 8+11+15+14+12 = 60
$f_4$ = 12+13+8+14+12 = 59

### Ответ
Самой сильной оказалась 1 особь.
Маршрут - 1->3->4->2->5->1
Длина маршрута = 45