## Задание №14
### Вариант 1

Генетический алгоритм для задачи коммивояжера.

Для условий 1 варианта задания 12:

Сгенерировать 2 особи (случайных решения) в виде перестановки номеров городов, которая всегда начинается с единицы.
Рассчитать фитнес-функцию для особей.
Закодировать их с применением альтернативной кодировки с пошаговыми комментариями.
Провести одноточечное скрещивание особей с пошаговыми комментариями, получить два потомка.
Провести мутацию одного из потомков с пошаговыми комментариями.
Декодировать альтернативную кодировку потомков в натуральную кодировку с пошаговыми комментариями.
Рассчитать фитнес-функцию для потомков.


|     | 1        | 2        | 3        | 4        | 5        |
| --- | -------- | -------- | -------- | -------- | -------- |
| 1   | $\infty$ | 15       | 10       | 6        | 5        |
| 2   | 13       | $\infty$ | 5        | 15       | 14       |
| 3   | 13       | 6        | $\infty$ | 5        | 15       |
| 4   | 12       | 10       | 12       | $\infty$ | 5        |
| 5   | 11       | 5        | 11       | 15       | $\infty$ |

$x_{1}=(13452)$
$x_{2}=(12543)$
$f(x_{1})=10+5+5+5+13=38$
$f(x_{2})=15+14+15+12+13=69$

## Шаг 1. Необходимо преобразовать особей в альтернативную кодировку

Чтобы преобразовать число в альтернативную кодировку необходимо записать два вспомогательных ряда. Один с числами по возрастанию начиная от единицы, второй просто с порядковыми номерами. Мы находим число в ряду с числами по возрастанию и смотрим на его номер в ряду с порядковыми номерами.

### Особь 13452

|1|3|4|5|2|
|---|---|---|---|---|
|**1**|2|3|4|5|
|1|2|3|4|5|

1

|3|4|5|2|
|---|---|---|---|
|2|**3**|4|5|
|1|2|3|4|

12

|4|5|2|
|---|---|---|
|2|**4**|5|
|1|2|3|

122

|5|2|
|---|---|
|2|**5**|
|1|2|

12221

|2|
|---|
|**2**|
|1|

$13452-> 12221$

### Особь 12543

|1|2|5|4|3|
|---|---|---|---|---|
|**1**|2|3|4|5|
|1|2|3|4|5|

1

|2|5|4|3|
|---|---|---|---|
|**2**|3|4|5|
|1|2|3|4|

11

|5|4|3|
|---|---|---|
|3|4|**5**|
|1|2|3|

113

|4|3|
|---|---|
|3|**4**|
|1|2|

11321

|3|
|---|
|**3**|
|1|

$12543 -> 11321$

## Шаг 2. Одноточечное скрещивание 
12|221
11|321

$x_{3}=12321$
$x_{4}=11221$

В такой кодировке можно проводить скрещивание, так как в процессе у нас не пропадут некоторые города, а другие не продублируются.

## Шаг 3. Мутация
Мутацию в такой кодировке необходимо проводить осторожно, учитывая границы позиции числа, которое мы хотим изменить. К примеру, потомок 4. Мы хотим изменить второе число. Оно может быть лишь в определенных границах, которые вычисляются по формуле

$L(n-i+1)$
$L=5-2+1=4$ - максимальное значение числа на этой позиции.
Мутация:
$x_{4}=11221 -> x_{4} =13221$


## Шаг 4. Декодирование
Чтобы провести декодирование опять необходимо прибегнуть к помощи двух рядов. Необходимо идти последовательно по закодированному числу, искать число, указанное  в нём в ряду с порядковыми номерами и выписывать число, которое стоит на том же месте в ряду с вершинами, записанными по порядку.

### Особь 12321

|1|2|3|2|1|
|---|---|---|---|---|
|1|2|3|4|5|
|**1**|2|3|4|5|

1

|2|3|2|1|
|---|---|---|---|
|2|3|4|5|
|1|**2**|3|4|

13

|3|2|1|
|---|---|---|
|2|4|5|
|1|2|**3**|

135

|2|1|
|---|---|
|2|4|
|1|**2**|

1354

|1|
|---|
|2|
|**1**|

13542

$12321 -> 13542$

### Особь 13221

|1|3|2|2|1|
|---|---|---|---|---|
|1|2|3|4|5|
|**1**|2|3|4|5|

1

|3|2|2|1|
|---|---|---|---|
|2|3|4|5|
|1|2|**3**|4|

14

|2|2|1|
|---|---|---|
|2|3|5|
|1|**2**|3|

143

|2|1|
|---|---|
|2|5|
|1|**2**|

1435

|1|
|---|
|2|
|**1**|

14352

$13221 -> 14352$

### Расчитаем фитнес-функцию
$f(x_{3})=63$
$f(x_{4})=51$
